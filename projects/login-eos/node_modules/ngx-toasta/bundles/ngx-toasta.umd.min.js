!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("rxjs"),require("@angular/platform-browser"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-toasta",["exports","@angular/core","rxjs","@angular/platform-browser","@angular/common"],o):o(t["ngx-toasta"]={},t.ng.core,t.rxjs,t.ng.platformBrowser,t.ng.common)}(this,function(t,o,e,n,s){"use strict";function a(t){return"function"==typeof t}var i=function(){function t(){}return t.decorators=[{type:o.Injectable}],t}(),r=function(){function t(){}return t.decorators=[{type:o.Injectable}],t}(),c=function(){function t(){this.limit=5,this.showClose=!0,this.position="bottom-right",this.timeout=5e3,this.theme="default"}return t.decorators=[{type:o.Injectable}],t}(),u={ADD:0,CLEAR:1,CLEAR_ALL:2};u[u.ADD]="ADD",u[u.CLEAR]="CLEAR",u[u.CLEAR_ALL]="CLEAR_ALL";var p=function(t,o){this.type=t,this.value=o};function l(t){return new f(t)}var f=function(){function r(t){this.config=t,this.uniqueCounter=0,this.eventSource=new e.Subject,this.events=this.eventSource.asObservable()}return r.prototype["default"]=function(t){this.add(t,"default")},r.prototype.info=function(t){this.add(t,"info")},r.prototype.success=function(t){this.add(t,"success")},r.prototype.wait=function(t){this.add(t,"wait")},r.prototype.error=function(t){this.add(t,"error")},r.prototype.warning=function(t){this.add(t,"warning")},r.prototype.add=function(t,o){var e;if(!(e="string"==typeof t&&""!==t||"number"==typeof t?{title:t.toString()}:t)||!e.title&&!e.msg)throw new Error("ngx-toasta: No toast title or message specified!");o=o||"default",this.uniqueCounter++;var n,s=this._checkConfigItem(this.config,e,"showClose");n=e.theme&&-1<r.THEMES.indexOf(e.theme)?e.theme:this.config.theme;var i={id:this.uniqueCounter,title:e.title,msg:e.msg,showClose:s,type:"toasta-type-"+o,theme:"toasta-theme-"+n,onAdd:e.onAdd&&a(e.onAdd)?e.onAdd:null,onRemove:e.onRemove&&a(e.onRemove)?e.onRemove:null};i.timeout=e.hasOwnProperty("timeout")?e.timeout:this.config.timeout,this.emitEvent(new p(u.ADD,i)),e.onAdd&&a(e.onAdd)&&e.onAdd.call(this,i)},r.prototype.clearAll=function(){this.emitEvent(new p(u.CLEAR_ALL))},r.prototype.clear=function(t){this.emitEvent(new p(u.CLEAR,t))},r.prototype._checkConfigItem=function(t,o,e){return!1!==o[e]&&(!!o[e]||t[e])},r.prototype.emitEvent=function(t){this.eventSource&&this.eventSource.next(t)},r.THEMES=["default","material","bootstrap"],r.decorators=[{type:o.Injectable}],r.ctorParameters=function(){return[{type:c}]},r}(),d=function(){function n(t,o){this.config=t,this.toastaService=o,this._position="",this.toasts=[],this.position=""}return Object.defineProperty(n.prototype,"position",{get:function(){return this._position},set:function(t){if(t){for(var o=!0,e=0;e<n.POSITIONS.length;e++)if(n.POSITIONS[e]===t){o=!1;break}o&&(t=this.config.position)}else t=this.config.position;this._position="toasta-position-"+t},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.toastaService.events.subscribe(function(t){if(t.type===u.ADD){var o=t.value;n.add(o)}else if(t.type===u.CLEAR){var e=t.value;n.clear(e)}else t.type===u.CLEAR_ALL&&n.clearAll()})},n.prototype.closeToast=function(t){this.clear(t.id)},n.prototype.add=function(t){this.config.limit&&this.toasts.length>=this.config.limit&&this.toasts.shift(),this.toasts.push(t),+t.timeout&&this._setTimeout(t)},n.prototype.clear=function(e){var n=this;if(!e)throw new Error("Please provide id of Toast to close");this.toasts.forEach(function(t,o){t.id===e&&(t.onRemove&&a(t.onRemove)&&t.onRemove.call(n,t),n.toasts.splice(o,1))})},n.prototype.clearAll=function(){var e=this;this.toasts.forEach(function(t,o){t.onRemove&&a(t.onRemove)&&t.onRemove.call(e,t)}),this.toasts=[]},n.prototype._setTimeout=function(t){var o=this;window.setTimeout(function(){o.clear(t.id)},t.timeout)},n.POSITIONS=["bottom-right","bottom-left","bottom-center","bottom-fullwidth","top-right","top-left","top-center","top-fullwidth","center-center"],n.decorators=[{type:o.Component,args:[{selector:"ngx-toasta",template:'\n    <div id="toasta" [ngClass]="[position]">\n        <ngx-toast *ngFor="let toast of toasts" [toast]="toast" (closeToast)="closeToast(toast)"></ngx-toast>\n    </div>'}]}],n.ctorParameters=function(){return[{type:c},{type:f}]},n.propDecorators={position:[{type:o.Input}]},n}(),h=function(){function t(){this.closeToastEvent=new o.EventEmitter}return t.prototype.close=function(t){t.preventDefault(),this.closeToastEvent.next(this.toast)},t.decorators=[{type:o.Component,args:[{selector:"ngx-toast",template:'\n        <div class="toast" [ngClass]="[toast.type, toast.theme]">\n            <div *ngIf="toast.showClose" class="close-button" (click)="close($event)"></div>\n            <div *ngIf="toast.title || toast.msg" class="toast-text">\n                <span *ngIf="toast.title" class="toast-title" [innerHTML]="toast.title | safeHtml"></span>\n                <br *ngIf="toast.title && toast.msg" />\n                <span *ngIf="toast.msg" class="toast-msg" [innerHtml]="toast.msg | safeHtml"></span>\n            </div>\n        </div>'}]}],t.propDecorators={toast:[{type:o.Input}],closeToastEvent:[{type:o.Output,args:["closeToast"]}]},t}(),m=function(){function t(t){this.domSanitized=t}return t.prototype.transform=function(t){for(var o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];return this.domSanitized.bypassSecurityTrustHtml(t)},t.decorators=[{type:o.Pipe,args:[{name:"safeHtml"}]}],t.ctorParameters=function(){return[{type:n.DomSanitizer}]},t}(),g=[c,{provide:f,useFactory:l,deps:[c]}],v=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:g}},t.decorators=[{type:o.NgModule,args:[{imports:[s.CommonModule],declarations:[h,d,m],exports:[h,d],providers:g}]}],t}();t.ToastOptions=i,t.ToastData=r,t.ToastaConfig=c,t.ToastaEventType=u,t.ToastaEvent=p,t.toastaServiceFactory=l,t.ToastaService=f,t.ToastaComponent=d,t.ToastComponent=h,t.SafeHtmlPipe=m,t.providers=g,t.ToastaModule=v,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-toasta.umd.min.js.map